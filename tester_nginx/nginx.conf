events {}

http {
    # Define a log format that shows both IPs
    log_format custom_debug 'Client: $remote_addr | Forwarded For: $http_x_forwarded_for | Request: "$request"';

    server {
        listen 80;
        access_log /dev/stdout custom_debug; # Output logs to docker logs

        location / {
            default_type text/plain;
            return 200 "Your IP (Remote Addr): $remote_addr\nForwarded For: $http_x_forwarded_for\n";
        }
    }
}